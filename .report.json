{"created": 1750836985.6643858, "duration": 90.93609523773193, "exitcode": 1, "root": "C:\\Users\\kjeon\\OneDrive\\Desktop\\QA\\Home", "environment": {}, "summary": {"failed": 1, "total": 1, "collected": 1}, "collectors": [{"nodeid": "", "outcome": "passed", "result": [{"nodeid": "tests/test_cen_event_edit.py", "type": "Module"}]}, {"nodeid": "tests/test_cen_event_edit.py", "outcome": "passed", "result": [{"nodeid": "tests/test_cen_event_edit.py::test_edit_event", "type": "Function", "lineno": 27}]}], "tests": [{"nodeid": "tests/test_cen_event_edit.py::test_edit_event", "lineno": 27, "outcome": "failed", "keywords": ["test_edit_event", "test_cen_event_edit.py", "tests", "Home", ""], "setup": {"duration": 1.2858499001013115, "outcome": "passed"}, "call": {"duration": 88.55529409996234, "outcome": "failed", "crash": {"path": "C:\\Users\\kjeon\\OneDrive\\Desktop\\QA\\Home\\helpers\\event_utils.py", "lineno": 201, "message": "AttributeError: 'Page' object has no attribute 'wait'"}, "traceback": [{"path": "tests\\test_cen_event_edit.py", "lineno": 110, "message": ""}, {"path": "helpers\\event_utils.py", "lineno": 201, "message": "AttributeError"}], "stdout": "\ud83d\udd0d \ube44\uad50\uc911: \ud654\uba74='\uc218\uc815_\uc774\ubca4\ud2b8_PC_\ud55c\uad6d\uc5b4_0625_1630', JSON='\uc218\uc815_\uc774\ubca4\ud2b8_PC_\ud55c\uad6d\uc5b4_0625_1630'\n\ud83d\udcc6 \ud654\uba74 \uae30\uac04='\uc0c1\uc2dc \uc9c4\ud589\uc911', JSON \uae30\uac04='\uc0c1\uc2dc \uc9c4\ud589\uc911'\n\u2705 '\uc218\uc815_\uc774\ubca4\ud2b8_PC_\ud55c\uad6d\uc5b4_0625_1630' \ub178\ucd9c \ud655\uc778 \uc644\ub8cc\n\u2705 \uc608\uc57d\ud558\ub7ec\uac00\uae30 \ubc84\ud2bc \ub3d9\uc791 \ud655\uc778 \uc644\ub8cc\n\ud83d\udd0d \ube44\uad50\uc911: \ud654\uba74='\uc218\uc815_\uc774\ubca4\ud2b8_\ubaa8\ubc14\uc77c_\ud55c\uad6d\uc5b4_0625_1630', JSON='\uc218\uc815_\uc774\ubca4\ud2b8_\ubaa8\ubc14\uc77c_\ud55c\uad6d\uc5b4_0625_1630'\n\ud83d\udcc6 \ud654\uba74 \uae30\uac04='- 25.07.24', JSON \uae30\uac04='-2025.07.25'\n\u2705 '\uc218\uc815_\uc774\ubca4\ud2b8_\ubaa8\ubc14\uc77c_\ud55c\uad6d\uc5b4_0625_1630' \ub178\ucd9c \ud655\uc778 \uc644\ub8cc\n\u2705 \uc608\uc57d\ud558\ub7ec\uac00\uae30 \ubc84\ud2bc \ub3d9\uc791 \ud655\uc778 \uc644\ub8cc\n\ud83d\udd0d \ube44\uad50\uc911: \ud654\uba74='\uc218\uc815_\uc774\ubca4\ud2b8_PC_\uc601\uc5b4_0625_1630', JSON='\uc218\uc815_\uc774\ubca4\ud2b8_PC_\uc601\uc5b4_0625_1630'\n\ud83d\udcc6 \ud654\uba74 \uae30\uac04='25.06.24 - TBD', JSON \uae30\uac04='2025.06.25-\ubbf8\uc815'\n\u2705 '\uc218\uc815_\uc774\ubca4\ud2b8_PC_\uc601\uc5b4_0625_1630' \ub178\ucd9c \ud655\uc778 \uc644\ub8cc\n\u2705 \uc608\uc57d\ud558\ub7ec\uac00\uae30 \ubc84\ud2bc \ub3d9\uc791 \ud655\uc778 \uc644\ub8cc\n", "longrepr": "page = <Page url='https://www.instagram.com/ceramique_clinic/'>\n\n    def test_edit_event(page: Page):\n        events = load_events()\n        assert events, \"\u274c \uc218\uc815\ud560 \uc774\ubca4\ud2b8 \ub370\uc774\ud130\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.\"\n    \n        cen_login(page)\n    \n        for event in events:\n            page.goto(URLS[\"cen_event\"])\n            page.wait_for_timeout(1000)\n    \n            # \u2705 \uadf8\ub8f9\uba85 \uac80\uc0c9 \ud6c4 \uc218\uc815 \uc9c4\uc785\n            page.fill('[data-testid=\"input_group\"]', event[\"group_name\"])\n            page.locator(\"body\").click(position={\"x\": 10, \"y\": 10})\n            page.wait_for_timeout(1000)\n    \n            row = page.locator(\"table tbody tr\").first\n            row.locator(\"td\").last.click()\n            page.wait_for_timeout(1000)\n            page.locator('[data-testid=\"btn_review\"]').click()\n            page.wait_for_timeout(1000)\n    \n            # \u2705 \ube0c\ub77c\uc6b0\uc800/\uc5b8\uc5b4 \uc120\ud0dd\n            is_mobile = \"\ubaa8\ubc14\uc77c\" in event[\"event_name\"]\n            is_english = \"\uc601\uc5b4\" in event[\"event_name\"]\n    \n            if is_mobile:\n                page.locator('button[role=\"combobox\"]', has_text=\"PC\").click()\n                page.wait_for_timeout(1000)\n                page.get_by_role(\"option\", name=\"\ubaa8\ubc14\uc77c\").click()\n    \n            if is_english:\n                page.locator('button[role=\"combobox\"]', has_text=\"\ud55c\uad6d\uc5b4\").click()\n                page.wait_for_timeout(1000)\n                page.get_by_role(\"option\", name=\"\uc601\uc5b4\").click()\n    \n            page.wait_for_timeout(1000)\n    \n            # \u2705 \uc218\uc815 \uc2dc\uc791\n            page.locator('[data-testid=\"btn_edit\"]').click()\n            page.wait_for_timeout(1000)\n    \n            # \u2705 \uc774\ubca4\ud2b8 \ub178\ucd9c\uba85 \uc218\uc815\n            new_event_name = f\"\uc218\uc815_{event['event_name']}\"\n            page.fill('[data-testid=\"input_event\"]', new_event_name)\n    \n            # \u2705 \ub300\ud45c \uc774\ubbf8\uc9c0 \uc218\uc815\n            page.locator('[data-testid=\"upload_image\"]').set_input_files(img.edit_img)\n            page.wait_for_timeout(1000)\n            expect(page.locator('[data-testid=\"txt_image\"]')).to_have_text(\"img_edit_event.png\")\n    \n            # \u2705 \uc0c1\uc138 \uc774\ubbf8\uc9c0 \uc911 \ub79c\ub364 \uad50\uccb4\n            random_idx = random.randint(1, 6)\n            page.locator(f'[data-testid=\"upload_image_{random_idx}\"]').set_input_files(img.edit_detail)\n            page.wait_for_timeout(1000)\n            expect(page.locator(f'[data-testid=\"txt_image_{random_idx}\"]')).to_have_text(\"img_edit_detail.png\")\n    \n            # \u2705 \ud31d\uc5c5 \uc0ac\uc6a9 \uc5ec\ubd80 \ubc18\uc804\n            original = event[\"popup_usage\"]\n            page.click('[data-testid=\"btn_toggle\"]')\n            new_popup = \"no\" if original == \"yes\" else \"yes\"\n    \n            # \u2705 \ud31d\uc5c5 \uc774\ubbf8\uc9c0 \uc218\uc815\n            page.set_input_files('[data-testid=\"upload_popup\"]', img.edit_popup)\n            page.wait_for_timeout(1000)\n            expect(page.locator('[data-testid=\"txt_popup_image\"]')).to_have_text(\"img_edit_popup.jpg\")\n    \n            # \u2705 \ud31d\uc5c5 URL \uc218\uc815\n            page.fill('[data-testid=\"input_popup_link\"]', URLS[\"footer_instagram\"])\n            page.wait_for_timeout(1000)\n    \n            # \u2705 \uc644\ub8cc \uc800\uc7a5\n            page.click('[data-testid=\"btn_complete\"]')\n            expect(page.locator('[data-testid=\"toast_edit\"]')).to_be_visible(timeout=3000)\n    \n            # \u2705 event \uac1d\uccb4 \uc5c5\ub370\uc774\ud2b8 \ubc0f JSON \ubc18\uc601\n            event[\"event_name\"] = new_event_name\n            event[\"popup_usage\"] = new_popup\n            event[\"popup_url\"] = \"instagram\"\n            update_one_event_in_json(event)\n    \n            # \u2705 \ud648\ud398\uc774\uc9c0 \ubc18\uc601 \ud655\uc778\n            try:\n>               verify_event_on_homepage(\n                    page,\n                    event,\n                    is_mobile=\"\ubaa8\ubc14\uc77c\" in new_event_name,\n                    is_english=\"\uc601\uc5b4\" in new_event_name\n                )\n\ntests\\test_cen_event_edit.py:110: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\npage = <Page url='https://www.instagram.com/ceramique_clinic/'>\nevent = {'display_period': '2025.06.25-2025.06.27', 'event_description': '\uc5ec\ub984\ub9de\uc774 \ud53c\ubd80 \ub9ac\ud504\ub808\uc2dc \uc774\ubca4\ud2b8! \\n \uc9c0\uae08 \uc608\uc57d \uc2dc \ucd5c\ub300 30% \ud560\uc778\u2728 \ubaa8\uacf5, \uc7a1\ud2f0, \ud0c4\ub825\uae4c\uc9c0...\ud6c4 \uc8fc\uc758\uc0ac\ud56d \ubc0f \ubd80\uc791\uc6a9 \uc124\uba85\uc744 \uaf2d \ud655\uc778\ud574\uc8fc\uc138\uc694. #\uc5ec\ub984\uc774\ubca4\ud2b8 #\ud53c\ubd80\uad00\ub9ac', 'event_name': '\uc218\uc815_\uc774\ubca4\ud2b8_PC_\uc601\uc5b4_0625_1630', 'event_period': '2025.06.25-\ubbf8\uc815', ...}\nis_mobile = False, is_english = True\n\n    def verify_event_on_homepage(page: Page, event: Dict[str, str], is_mobile: bool, is_english: bool):\n    \n    \n        # \u2705 \uc774\ubca4\ud2b8 \ub9ac\uc2a4\ud2b8 \ud654\uba74\uc73c\ub85c \uc774\ub3d9\n        event_url = get_event_list_url(is_mobile, is_english)\n        page.goto(event_url)\n        page.wait_for_timeout(3000)\n    \n        # \u2705 \uc774\ubca4\ud2b8 \ub178\ucd9c \uc5ec\ubd80 \ud655\uc778\n        visible_on_list = False\n        items = page.locator('[data-testid=\"txt_event_title\"]')\n        count = items.count()\n    \n        visible_on_list = False\n    \n        for i in range(count):\n            title_el = items.nth(i)\n            title = title_el.inner_text().strip()\n    \n            print(f\"\ud83d\udd0d \ube44\uad50\uc911: \ud654\uba74='{title}', JSON='{event['event_name']}'\")\n    \n            if title == event[\"event_name\"]:\n                # \u2705 \ud0c0\uc774\ud2c0 \uae30\uc900\uc73c\ub85c \uc0c1\uc704 div\uc5d0\uc11c \uae30\uac04, \ubc84\ud2bc \ud0d0\uc0c9\n                wrapper = title_el.locator(\"xpath=../../..\")  # \ud0c0\uc774\ud2c0\uc5d0\uc11c 3\ub2e8\uacc4 \uc0c1\uc704\ub85c \uc62c\ub77c\uac10 (div.flex.w-full.flex-col \u2192 div.flex.w-full.flex-col \u2192 div.flex-col)\n    \n                period = wrapper.locator('[data-testid=\"txt_event_period\"]').inner_text().strip()\n                print(f\"\ud83d\udcc6 \ud654\uba74 \uae30\uac04='{period}', JSON \uae30\uac04='{event['event_period']}'\")\n    \n                # if period == event[\"event_period\"]:\n                visible_on_list = True\n                # \u2705 \uc0c1\uc138 \ubcf4\uae30 \uc9c4\uc785\n                wrapper.locator('[data-testid=\"btn_event\"]').click()\n                page.wait_for_timeout(1000)\n                break\n    \n        assert visible_on_list, f\"\u274c \ub9ac\uc2a4\ud2b8\uc5d0 '{event['event_name']}' \ub178\ucd9c\ub418\uc9c0 \uc54a\uc74c\"\n    \n    \n        # \u2705 \uc0c1\uc138 \uc815\ubcf4 \ud655\uc778\n        title_expected = \"Ceramique Event\" if is_english else \"\uc138\ub77c\ubbf8\ud06c \uc774\ubca4\ud2b8\"\n        expect(page.locator('[data-testid=\"txt_title\"]')).to_contain_text(title_expected)\n        expect(page.locator('[data-testid=\"txt_event_title\"]')).to_have_text(event[\"event_name\"])\n        expect(page.locator('[data-testid=\"txt_event_description\"]')).not_to_be_empty()\n    \n        print(f\"\u2705 '{event['event_name']}' \ub178\ucd9c \ud655\uc778 \uc644\ub8cc\")\n    \n        # \uc608\uc57d \ud558\ub7ec \uac00\uae30 \ubc84\ud2bc \ub3d9\uc791 \ud655\uc778\n        page.wait_for_timeout(1000)\n        page.click(f'[data-testid=\"btn_reservation\"]')\n        page.wait_for_timeout(3000)\n        expect(page.locator('[data-testid=\"txt_login\"]')).to_be_visible(timeout=3000)\n        print(\"\u2705 \uc608\uc57d\ud558\ub7ec\uac00\uae30 \ubc84\ud2bc \ub3d9\uc791 \ud655\uc778 \uc644\ub8cc\")\n    \n    \n        # \u2705 \ud31d\uc5c5 \ud655\uc778\n        popup_url = get_popup_url(is_mobile, is_english)\n        page.goto(popup_url)\n        page.wait_for_timeout(1000)\n    \n        popup_locator = page.locator('[data-testid=\"event_popup\"]')\n        popup_visible = popup_locator.is_visible()\n        expected_popup = event[\"popup_usage\"] == \"yes\"\n        assert popup_visible == expected_popup, (\n            f\"\u274c \ud31d\uc5c5 \ub178\ucd9c \uc5ec\ubd80 \uc624\ub958: {popup_visible} (\uc608\uc0c1: {expected_popup})\"\n        )\n    \n        # \u2705 \ud31d\uc5c5 \ud074\ub9ad \uc2dc \uc774\ub3d9 URL \ud655\uc778\n        if popup_visible:\n            popup_url_type = event[\"popup_url\"]\n    \n            if popup_url_type == \"event\":\n                # \uc0c8 \ucc3d\uc774 \uc544\ub2cc \ud604\uc7ac \ud0ed\uc5d0\uc11c \uc774\ub3d9 (\ub530\ub77c\uc11c popup \ucc98\ub9ac \uc5c6\uc774 \ud074\ub9ad\ub9cc)\n                popup_locator.click()\n                page.wait_for_load_state()\n                actual_url = page.url\n    \n                assert \"/events\" in actual_url, (\n                    f\"\u274c \ud31d\uc5c5 \ud074\ub9ad \ud6c4 URL \uc624\ub958: {actual_url} (\uc608\uc0c1 \ud3ec\ud568: '/events')\"\n                )\n    \n            elif popup_url_type == \"instagram\":\n                with page.expect_popup() as popup_info:\n                    popup_locator.click()\n>                   page.wait(3000)\nE                   AttributeError: 'Page' object has no attribute 'wait'\n\nhelpers\\event_utils.py:201: AttributeError"}, "teardown": {"duration": 1.0529081000713632, "outcome": "passed"}}]}